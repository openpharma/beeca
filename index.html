<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Performs estimation of marginal treatment effects for binary outcomes when using logistic regression working models with covariate adjustment (see discussions in Magirr et al (2024) &lt;https://osf.io/9mp58/&gt;). Implements the variance estimators of Ge et al (2011) &lt;doi:10.1177/009286151104500409&gt; and Ye et al (2023) &lt;doi:10.1080/24754269.2023.2205802&gt;.">
<title>Binary Endpoint Estimation with Covariate Adjustment • beeca</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Binary Endpoint Estimation with Covariate Adjustment">
<meta property="og:description" content="Performs estimation of marginal treatment effects for binary outcomes when using logistic regression working models with covariate adjustment (see discussions in Magirr et al (2024) &lt;https://osf.io/9mp58/&gt;). Implements the variance estimators of Ge et al (2011) &lt;doi:10.1177/009286151104500409&gt; and Ye et al (2023) &lt;doi:10.1080/24754269.2023.2205802&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">beeca</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/estimand_and_implementations.html">Introduction to estimating a marginal estimand with beeca</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/openpharma/beeca/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="binary-endpoint-estimation-with-covariate-adjustment">Binary Endpoint Estimation with Covariate Adjustment<a class="anchor" aria-label="anchor" href="#binary-endpoint-estimation-with-covariate-adjustment"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of <strong>beeca</strong> is to provide an implementation solution with a simple user interface to estimate marginal estimands in a binary endpoint setting with covariate adjustment. The primary aim of this lightweight implementation is to facilitate quick industry adoption and use within GxP environments. A secondary aim is to support the simulation studies included in the manuscript <a href="https://osf.io/9mp58/" class="external-link">Magirr et al. (2024)</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<table class="table">
<thead><tr class="header">
<th>Type</th>
<th>Source</th>
<th>Command</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Release</td>
<td>CRAN</td>
<td><code>install.packages("beeca")</code></td>
</tr>
<tr class="even">
<td>Development</td>
<td>GitHub</td>
<td><code>remotes::install_github("openpharma/beeca")</code></td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="methodology">Methodology<a class="anchor" aria-label="anchor" href="#methodology"></a>
</h2>
<p>Motivated by the recent <a href="https://www.fda.gov/regulatory-information/search-fda-guidance-documents/adjusting-covariates-randomized-clinical-trials-drugs-and-biological-products" class="external-link">FDA guidance (2023)</a> on “Adjusting for Covariates in Randomized Clinical Trials for Drugs and Biological Products Guidance for Industry”” and its recommendations on robust variance estimation, we implemented two approaches, namely <a href="https://link.springer.com/article/10.1177/009286151104500409" class="external-link">Ge et al. (2011)</a> and <a href="https://doi.org/10.1080/24754269.2023.2205802" class="external-link">Ye et al. (2023)</a>, to perform variance estimation for a treatment effect estimator based on g-computation under a logistic regression working model.</p>
</div>
<div class="section level2">
<h2 id="scope">Scope<a class="anchor" aria-label="anchor" href="#scope"></a>
</h2>
<p>The package is designed to estimate marginal (unconditional) estimands in a binary endpoint setting with covariate adjustment. It is suited for 2-arm clinical trials with or without covariate adaptive (stratified permuted block or biased coin) randomization where the summary measure of the marginal estimand is one of (risk difference, odds ratio, risk ratio, log odds ratio, log risk ratio). For practical considerations on the implications of covariate adjustment in superiority vs non-inferiority trials, please see <a href="https://doi.org/10.1002/sim.6447" class="external-link">Nicholas et al. (2015)</a> and <a href="https://doi.org/10.1186/s13063-022-06097-z" class="external-link">Morris et al. (2022)</a>.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows how to obtain the point and variance estimates of a marginal estimand with covariate adjusted working model:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://openpharma.github.io/beeca/">beeca</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Set treatment to a factor</span></span>
<span><span class="va">trial01</span><span class="op">$</span><span class="va">trtp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">trial01</span><span class="op">$</span><span class="va">trtp</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Fit a logistic regression working model and pass it to beeca</span></span>
<span><span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">aval</span> <span class="op">~</span> <span class="va">trtp</span> <span class="op">+</span> <span class="va">bl_cov</span>, family<span class="op">=</span><span class="st">"binomial"</span>, data<span class="op">=</span><span class="va">trial01</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/get_marginal_effect.html">get_marginal_effect</a></span><span class="op">(</span>trt<span class="op">=</span><span class="st">"trtp"</span>, method<span class="op">=</span><span class="st">"Ye"</span>, contrast<span class="op">=</span><span class="st">"diff"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## View the results in Analysis Results Data (ARD) structure</span></span>
<span><span class="va">fit1</span><span class="op">$</span><span class="va">marginal_results</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="package-documentation">Package documentation<a class="anchor" aria-label="anchor" href="#package-documentation"></a>
</h2>
<p>The package documentation can be found <a href="https://openpharma.github.io/beeca/">here</a>. For a brief overview of the different estimands and their estimation, please see vignette <a href="https://openpharma.github.io/beeca/articles/estimand_and_implementations.html"><code>vignette("estimand_and_implementations")</code></a>.</p>
</div>
<div class="section level2">
<h2 id="quality-checks">Quality checks<a class="anchor" aria-label="anchor" href="#quality-checks"></a>
</h2>
<p>Where possible we have cross checked the {beeca} package with alternative implementations in <code>SAS</code> and <code>R</code>. For example, the Ge et al. method which applies the delta method has been cross checked against the <code>SAS</code> <a href="https://support.sas.com/kb/63/038.html" class="external-link">%margins</a> macro and the R packages <a href="https://cran.r-project.org/package=margins" class="external-link">{margins}</a> and <a href="https://cran.r-project.org/package=marginaleffects" class="external-link">{marginaleffects}</a>. The Ye et al. method has been cross checked against <a href="https://cran.r-project.org/package=RobinCar/" class="external-link">{RobinCar}</a>.</p>
</div>
<div class="section level2">
<h2 id="package-authors">Package authors<a class="anchor" aria-label="anchor" href="#package-authors"></a>
</h2>
<ul>
<li><a href="mailto:alexander.przybylski@novartis.com?subject=beeca" class="email">Alex Przybylski</a></li>
<li><a href="mailto:craig.wang@novartis.com?subject=beeca" class="email">Craig Wang</a></li>
<li><a href="mailto:dominic.magirr@novartis.com?subject=beeca" class="email">Dominic Magirr</a></li>
<li><a href="mailto:mark.baillie@novartis.com?subject=beeca" class="email">Mark Baillie</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h2>
<p>Our lightweight implementation was inspired and aided by the more comprehensive <a href="https://cran.r-project.org/package=RobinCar/" class="external-link">{RobinCar}</a> package, developed by Marlena Bannick, Ting Ye et al. We thank the <a href="https://carswg.github.io/" class="external-link">ASA-BIOP Covariate Adjustment Scientific Working Group</a> for valuable feedback and discussions.</p>
<p>Further development of covariate adjustment software is by the <a href="https://carswg.github.io/subteam_software.html" class="external-link">Software Subteam</a> of ASA-BIOP Covariate Adjustment Scientific Working Group.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li><p>FDA. 2023. “Adjusting for Covariates in Randomized Clinical Trials for Drugs and Biological Products. Final Guidance for Industry.” <a href="https://www.fda.gov/regulatory-information/search-fda-guidance-documents/adjusting-covariates-randomized-clinical-trials-drugs-and-biological-products" class="external-link uri">https://www.fda.gov/regulatory-information/search-fda-guidance-documents/adjusting-covariates-randomized-clinical-trials-drugs-and-biological-products</a></p></li>
<li><p>Ge, Miaomiao, L Kathryn Durham, R Daniel Meyer, Wangang Xie, and Neal Thomas. 2011. “Covariate-Adjusted Difference in Proportions from Clinical Trials Using Logistic Regression and Weighted Risk Differences.” <em>Drug Information Journal: DIJ/Drug Information Association</em> 45: 481–93. <a href="https://doi.org/10.1177/009286151104500409" class="external-link uri">https://doi.org/10.1177/009286151104500409</a></p></li>
<li><p>Magirr, Dominic, Mark Baillie, Craig Wang, and Alexander Przybylski. 2024. “Estimating the Variance of Covariate-Adjusted Estimators of Average Treatment Effects in Clinical Trials with Binary Endpoints.” OSF. May 16. <a href="https://osf.io/9mp58" class="external-link uri">https://osf.io/9mp58</a>.</p></li>
<li><p>Ye, Ting, Marlena Bannick, Yanyao Yi, and Jun Shao. 2023. “Robust Variance Estimation for Covariate-Adjusted Unconditional Treatment Effect in Randomized Clinical Trials with Binary Outcomes.” <em>Statistical Theory and Related Fields</em> 7 (2): 159–63. <a href="https://doi.org/10.1080/24754269.2023.2205802" class="external-link uri">https://doi.org/10.1080/24754269.2023.2205802</a></p></li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=beeca" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/openpharma/beeca/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/openpharma/beeca/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>LGPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing beeca</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Alex Przybylski <br><small class="roles"> Maintainer, author </small>  </li>
<li>Mark Baillie <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-5618-0667" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Craig Wang <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-1804-2463" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Dominic Magirr <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://github.com/openpharma/beeca/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/openpharma/beeca/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alex Przybylski, Mark Baillie, Craig Wang, Dominic Magirr.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
